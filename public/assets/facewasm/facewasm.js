
var TevianFaceWasm = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  return (
function(TevianFaceWasm) {
  TevianFaceWasm = TevianFaceWasm || {};

var e;e||(e=typeof TevianFaceWasm !== 'undefined' ? TevianFaceWasm : {});e.Da||(e.Da=0,e.ab=0);e.Da++;
(function(a){function b(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onprogress=function(c){var f=b;c.total&&(f=c.total);if(c.loaded){d.ca?e.ja[a].loaded=c.loaded:(d.ca=!0,e.ja||(e.ja={}),e.ja[a]={loaded:c.loaded,total:f});var g=f=c=0,h;for(h in e.ja){var l=e.ja[h];c+=l.total;f+=l.loaded;g++}c=Math.ceil(c*e.Da/g);e.setStatus&&e.setStatus("Downloading data... ("+f+"/"+c+")")}else!e.ja&&e.setStatus&&e.setStatus("Downloading data...")};d.onerror=function(){throw Error("NetworkError for: "+
a);};d.onload=function(){if(200==d.status||304==d.status||206==d.status||0==d.status&&d.response)c(d.response);else throw Error(d.statusText+" : "+d.responseURL);};d.send(null)}function c(a){console.error("package error:",a)}function d(){function b(a,b,c){this.start=a;this.end=b;this.audio=c}function c(c){e.ab++;if(!c)throw"Loading data file failed."+Error().stack;if(!(c instanceof ArrayBuffer))throw"bad input to processPackageData"+Error().stack;c=new Uint8Array(c);b.prototype.$a=c;c=a.files;for(var d=
0;d<c.length;++d)b.prototype.Ia[c[d].filename].onload();e.removeRunDependency("datafile_artifacts/web/release/facewasm.data")}e.FS_createPath("/","data",!0,!0);b.prototype={Ia:{},open:function(a,b){this.name=b;this.Ia[b]=this;e.addRunDependency("fp "+this.name)},onload:function(){this.finish(this.$a.subarray(this.start,this.end))},finish:function(a){e.FS_createDataFile(this.name,null,a,!0,!0,!0);e.removeRunDependency("fp "+this.name);this.Ia[this.name]=null}};for(var d=a.files,f=0;f<d.length;++f)(new b(d[f].start,
d[f].end,d[f].audio)).open("GET",d[f].filename);e.addRunDependency("datafile_artifacts/web/release/facewasm.data");e.Ua||(e.Ua={});e.Ua["artifacts/web/release/facewasm.data"]={sb:!1};l?(c(l),l=null):h=c}if("object"===typeof window)window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else if("undefined"!==typeof location)encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+
"/");else throw"using preloaded data can only be done on a web page or in a web worker";"function"!==typeof e.locateFilePackage||e.locateFile||(e.locateFile=e.locateFilePackage,k("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var f=e.locateFile?e.locateFile("facewasm.data",""):"facewasm.data",g=a.Eb,h=null,l=e.getPreloadedPackage?e.getPreloadedPackage(f,g):null;l||b(f,g,function(a){h?(h(a),h=null):l=a},c);e.calledRun?
d():(e.preRun||(e.preRun=[]),e.preRun.push(d))})({files:[{filename:"/data/fr.bin",start:0,end:5778949,audio:0},{filename:"/data/passport.bin",start:5778949,end:6677639,audio:0},{filename:"/data/fd.bin",start:6677639,end:6940083,audio:0},{filename:"/data/angles.bin",start:6940083,end:8743274,audio:0},{filename:"/data/ffd.bin",start:8743274,end:20505667,audio:0},{filename:"/data/quality.bin",start:20505667,end:20764883,audio:0}],remote_package_size:20764883,package_uuid:"bb119dcd-0eaa-4b90-acd1-4fec9146b35f"});
null==e.log&&(e.log=function(){});null==e.error&&(e.error=function(){});var m={},p;for(p in e)e.hasOwnProperty(p)&&(m[p]=e[p]);var r="",aa;document.currentScript&&(r=document.currentScript.src);_scriptDir&&(r=_scriptDir);0!==r.indexOf("blob:")?r=r.substr(0,r.lastIndexOf("/")+1):r="";aa=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText};var ba=e.print||console.log.bind(console),k=e.printErr||console.warn.bind(console);for(p in m)m.hasOwnProperty(p)&&(e[p]=m[p]);
m=null;var ca={"f64-rem":function(a,b){return a%b},"debugger":function(){}},t;e.wasmBinary&&(t=e.wasmBinary);"object"!==typeof WebAssembly&&k("no native wasm support detected");var v,da=!1,ea="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;
function fa(a,b,c){var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.subarray&&ea)return ea.decode(a.subarray(b,c));for(d="";b<c;){var f=a[b++];if(f&128){var g=a[b++]&63;if(192==(f&224))d+=String.fromCharCode((f&31)<<6|g);else{var h=a[b++]&63;f=224==(f&240)?(f&15)<<12|g<<6|h:(f&7)<<18|g<<12|h<<6|a[b++]&63;65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else d+=String.fromCharCode(f)}return d}function x(a){return a?fa(ha,a,void 0):""}
function ia(a,b,c,d){if(!(0<d))return 0;var f=c;d=c+d-1;for(var g=0;g<a.length;++g){var h=a.charCodeAt(g);if(55296<=h&&57343>=h){var l=a.charCodeAt(++g);h=65536+((h&1023)<<10)|l&1023}if(127>=h){if(c>=d)break;b[c++]=h}else{if(2047>=h){if(c+1>=d)break;b[c++]=192|h>>6}else{if(65535>=h){if(c+2>=d)break;b[c++]=224|h>>12}else{if(c+3>=d)break;b[c++]=240|h>>18;b[c++]=128|h>>12&63}b[c++]=128|h>>6&63}b[c++]=128|h&63}}b[c]=0;return c-f}
function ja(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function ka(a){0<a%65536&&(a+=65536-a%65536);return a}var y,A,ha,la,B;
function ma(a){y=a;e.HEAP8=A=new Int8Array(a);e.HEAP16=la=new Int16Array(a);e.HEAP32=B=new Int32Array(a);e.HEAPU8=ha=new Uint8Array(a);e.HEAPU16=new Uint16Array(a);e.HEAPU32=new Uint32Array(a);e.HEAPF32=new Float32Array(a);e.HEAPF64=new Float64Array(a)}var na=e.TOTAL_MEMORY||16777216;e.wasmMemory?v=e.wasmMemory:v=new WebAssembly.Memory({initial:na/65536});v&&(y=v.buffer);na=y.byteLength;ma(y);B[9712]=5281760;
function oa(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b();else{var c=b.bb;"number"===typeof c?void 0===b.Ca?e.dynCall_v(c):e.dynCall_vi(c,b.Ca):c(void 0===b.Ca?null:b.Ca)}}}var pa=[],qa=[],ra=[],sa=[],ta=!1;function ua(){var a=e.preRun.shift();pa.unshift(a)}var va=Math.abs,wa=Math.ceil,xa=Math.floor,ya=Math.min,za=Math.trunc,C=0,Aa=null,Ba=null;function Ca(){C++;e.monitorRunDependencies&&e.monitorRunDependencies(C)}
function Da(){C--;e.monitorRunDependencies&&e.monitorRunDependencies(C);if(0==C&&(null!==Aa&&(clearInterval(Aa),Aa=null),Ba)){var a=Ba;Ba=null;a()}}e.preloadedImages={};e.preloadedAudios={};function Ea(){var a=D;return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):0===a.indexOf("data:application/octet-stream;base64,")}var D="facewasm.wasm";if(!Ea()){var Fa=D;D=e.locateFile?e.locateFile(Fa,r):r+Fa}
function Ga(){try{if(t)return new Uint8Array(t);throw"both async and sync fetching of the wasm failed";}catch(a){E(a)}}function Ha(){return t||"function"!==typeof fetch?new Promise(function(a){a(Ga())}):fetch(D,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+D+"'";return a.arrayBuffer()}).catch(function(){return Ga()})}
function Ia(a){function b(a){e.asm=a.exports;Da("wasm-instantiate")}function c(a){b(a.instance)}function d(a){return Ha().then(function(a){return WebAssembly.instantiate(a,f)}).then(a,function(a){k("failed to asynchronously prepare wasm: "+a);E(a)})}var f={env:a,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:ca};Ca("wasm-instantiate");if(e.instantiateWasm)try{return e.instantiateWasm(f,b)}catch(g){return k("Module.instantiateWasm callback failed with error: "+g),!1}(function(){if(t||
"function"!==typeof WebAssembly.instantiateStreaming||Ea()||"function"!==typeof fetch)return d(c);fetch(D,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,f).then(c,function(a){k("wasm streaming compile failed: "+a);k("falling back to ArrayBuffer instantiation");d(c)})})})();return{}}e.asm=function(a,b){b.memory=v;b.table=new WebAssembly.Table({initial:1090,maximum:1090,element:"anyfunc"});b.__memory_base=1024;b.__table_base=0;return Ia(b)};var F,Ja;qa.push({bb:function(){Ka()}});
function La(a){e.___errno_location&&(B[e.___errno_location()>>2]=a);return a}function Ma(a,b){for(var c=0,d=a.length-1;0<=d;d--){var f=a[d];"."===f?a.splice(d,1):".."===f?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a}function G(a){var b="/"===a.charAt(0),c="/"===a.substr(-1);(a=Ma(a.split("/").filter(function(a){return!!a}),!b).join("/"))||b||(a=".");a&&c&&(a+="/");return(b?"/":"")+a}
function Na(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b}function Oa(a){if("/"===a)return"/";var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)}
function Qa(){for(var a="",b=!1,c=arguments.length-1;-1<=c&&!b;c--){b=0<=c?arguments[c]:"/";if("string"!==typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b="/"===b.charAt(0)}a=Ma(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."}var Ra=[];function Sa(a,b){Ra[a]={input:[],$:[],la:b};Ta(a,Ua)}
var Ua={open:function(a){var b=Ra[a.node.ua];if(!b)throw new H(19);a.Z=b;a.seekable=!1},close:function(a){a.Z.la.flush(a.Z)},flush:function(a){a.Z.la.flush(a.Z)},read:function(a,b,c,d){if(!a.Z||!a.Z.la.Pa)throw new H(6);for(var f=0,g=0;g<d;g++){try{var h=a.Z.la.Pa(a.Z)}catch(l){throw new H(5);}if(void 0===h&&0===f)throw new H(11);if(null===h||void 0===h)break;f++;b[c+g]=h}f&&(a.node.timestamp=Date.now());return f},write:function(a,b,c,d){if(!a.Z||!a.Z.la.Ga)throw new H(6);try{for(var f=0;f<d;f++)a.Z.la.Ga(a.Z,
b[c+f])}catch(g){throw new H(5);}d&&(a.node.timestamp=Date.now());return f}},Wa={Pa:function(a){if(!a.input.length){var b=null;"undefined"!=typeof window&&"function"==typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\n")):"function"==typeof readline&&(b=readline(),null!==b&&(b+="\n"));if(!b)return null;a.input=Va(b,!0)}return a.input.shift()},Ga:function(a,b){null===b||10===b?(ba(fa(a.$,0)),a.$=[]):0!=b&&a.$.push(b)},flush:function(a){a.$&&0<a.$.length&&(ba(fa(a.$,0)),a.$=[])}},Xa=
{Ga:function(a,b){null===b||10===b?(k(fa(a.$,0)),a.$=[]):0!=b&&a.$.push(b)},flush:function(a){a.$&&0<a.$.length&&(k(fa(a.$,0)),a.$=[])}},I={da:null,ga:function(){return I.createNode(null,"/",16895,0)},createNode:function(a,b,c,d){if(24576===(c&61440)||4096===(c&61440))throw new H(1);I.da||(I.da={dir:{node:{ha:I.W.ha,ba:I.W.ba,na:I.W.na,ra:I.W.ra,Wa:I.W.Wa,Ba:I.W.Ba,Xa:I.W.Xa,Va:I.W.Va,wa:I.W.wa},stream:{ia:I.X.ia}},file:{node:{ha:I.W.ha,ba:I.W.ba},stream:{ia:I.X.ia,read:I.X.read,write:I.X.write,La:I.X.La,
Sa:I.X.Sa,sa:I.X.sa}},link:{node:{ha:I.W.ha,ba:I.W.ba,pa:I.W.pa},stream:{}},Ma:{node:{ha:I.W.ha,ba:I.W.ba},stream:Ya}});c=Za(a,b,c,d);16384===(c.mode&61440)?(c.W=I.da.dir.node,c.X=I.da.dir.stream,c.V={}):32768===(c.mode&61440)?(c.W=I.da.file.node,c.X=I.da.file.stream,c.Y=0,c.V=null):40960===(c.mode&61440)?(c.W=I.da.link.node,c.X=I.da.link.stream):8192===(c.mode&61440)&&(c.W=I.da.Ma.node,c.X=I.da.Ma.stream);c.timestamp=Date.now();a&&(a.V[b]=c);return c},tb:function(a){if(a.V&&a.V.subarray){for(var b=
[],c=0;c<a.Y;++c)b.push(a.V[c]);return b}return a.V},ub:function(a){return a.V?a.V.subarray?a.V.subarray(0,a.Y):new Uint8Array(a.V):new Uint8Array},Na:function(a,b){var c=a.V?a.V.length:0;c>=b||(b=Math.max(b,c*(1048576>c?2:1.125)|0),0!=c&&(b=Math.max(b,256)),c=a.V,a.V=new Uint8Array(b),0<a.Y&&a.V.set(c.subarray(0,a.Y),0))},gb:function(a,b){if(a.Y!=b)if(0==b)a.V=null,a.Y=0;else{if(!a.V||a.V.subarray){var c=a.V;a.V=new Uint8Array(new ArrayBuffer(b));c&&a.V.set(c.subarray(0,Math.min(b,a.Y)))}else if(a.V||
(a.V=[]),a.V.length>b)a.V.length=b;else for(;a.V.length<b;)a.V.push(0);a.Y=b}},W:{ha:function(a){var b={};b.rb=8192===(a.mode&61440)?a.id:1;b.xb=a.id;b.mode=a.mode;b.Bb=1;b.uid=0;b.vb=0;b.ua=a.ua;16384===(a.mode&61440)?b.size=4096:32768===(a.mode&61440)?b.size=a.Y:40960===(a.mode&61440)?b.size=a.link.length:b.size=0;b.ob=new Date(a.timestamp);b.Ab=new Date(a.timestamp);b.qb=new Date(a.timestamp);b.Za=4096;b.pb=Math.ceil(b.size/b.Za);return b},ba:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==
b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&I.gb(a,b.size)},na:function(){throw $a[2];},ra:function(a,b,c,d){return I.createNode(a,b,c,d)},Wa:function(a,b,c){if(16384===(a.mode&61440)){try{var d=J(b,c)}catch(g){}if(d)for(var f in d.V)throw new H(39);}delete a.parent.V[a.name];a.name=c;b.V[c]=a;a.parent=b},Ba:function(a,b){delete a.V[b]},Xa:function(a,b){var c=J(a,b),d;for(d in c.V)throw new H(39);delete a.V[b]},Va:function(a){var b=[".",".."],c;for(c in a.V)a.V.hasOwnProperty(c)&&b.push(c);
return b},wa:function(a,b,c){a=I.createNode(a,b,41471,0);a.link=c;return a},pa:function(a){if(40960!==(a.mode&61440))throw new H(22);return a.link}},X:{read:function(a,b,c,d,f){var g=a.node.V;if(f>=a.node.Y)return 0;a=Math.min(a.node.Y-f,d);if(8<a&&g.subarray)b.set(g.subarray(f,f+a),c);else for(d=0;d<a;d++)b[c+d]=g[f+d];return a},write:function(a,b,c,d,f,g){g=!1;if(!d)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.V||a.V.subarray)){if(g)return a.V=b.subarray(c,c+d),a.Y=d;if(0===a.Y&&
0===f)return a.V=new Uint8Array(b.subarray(c,c+d)),a.Y=d;if(f+d<=a.Y)return a.V.set(b.subarray(c,c+d),f),d}I.Na(a,f+d);if(a.V.subarray&&b.subarray)a.V.set(b.subarray(c,c+d),f);else for(g=0;g<d;g++)a.V[f+g]=b[c+g];a.Y=Math.max(a.Y,f+d);return d},ia:function(a,b,c){1===c?b+=a.position:2===c&&32768===(a.node.mode&61440)&&(b+=a.node.Y);if(0>b)throw new H(22);return b},La:function(a,b,c){I.Na(a.node,b+c);a.node.Y=Math.max(a.node.Y,b+c)},Sa:function(a,b,c,d,f,g,h){if(32768!==(a.node.mode&61440))throw new H(19);
c=a.node.V;if(h&2||c.buffer!==b&&c.buffer!==b.buffer){if(0<f||f+d<a.node.Y)c.subarray?c=c.subarray(f,f+d):c=Array.prototype.slice.call(c,f,f+d);a=!0;f=b.buffer==A.buffer;d=ab(d);if(!d)throw new H(12);(f?A:b).set(c,d)}else a=!1,d=c.byteOffset;return{Db:d,Ya:a}},sa:function(a,b,c,d,f){if(32768!==(a.node.mode&61440))throw new H(19);if(f&2)return 0;I.X.write(a,b,0,d,c,!1);return 0}}},bb=null,cb={},L=[],db=1,M=null,eb=!0,N={},H=null,$a={};
function O(a,b){a=Qa("/",a);b=b||{};if(!a)return{path:"",node:null};var c={Oa:!0,Ha:0},d;for(d in c)void 0===b[d]&&(b[d]=c[d]);if(8<b.Ha)throw new H(40);a=Ma(a.split("/").filter(function(a){return!!a}),!1);var f=bb;c="/";for(d=0;d<a.length;d++){var g=d===a.length-1;if(g&&b.parent)break;f=J(f,a[d]);c=G(c+"/"+a[d]);f.oa&&(!g||g&&b.Oa)&&(f=f.oa.root);if(!g||b.Ea)for(g=0;40960===(f.mode&61440);)if(f=fb(c),c=Qa(Na(c),f),f=O(c,{Ha:b.Ha}).node,40<g++)throw new H(40);}return{path:c,node:f}}
function Q(a){for(var b;;){if(a===a.parent)return a=a.ga.Ta,b?"/"!==a[a.length-1]?a+"/"+b:a+b:a;b=b?a.name+"/"+b:a.name;a=a.parent}}function gb(a,b){for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%M.length}function hb(a){var b=gb(a.parent.id,a.name);a.ka=M[b];M[b]=a}function J(a,b){var c;if(c=(c=ib(a,"x"))?c:a.W.na?0:13)throw new H(c,a);for(c=M[gb(a.id,b)];c;c=c.ka){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return a.W.na(a,b)}
function Za(a,b,c,d){jb||(jb=function(a,b,c,d){a||(a=this);this.parent=a;this.ga=a.ga;this.oa=null;this.id=db++;this.name=b;this.mode=c;this.W={};this.X={};this.ua=d},jb.prototype={},Object.defineProperties(jb.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(a){a?this.mode|=146:this.mode&=-147}},eb:{get:function(){return 16384===(this.mode&61440)}},Qa:{get:function(){return 8192===
(this.mode&61440)}}}));a=new jb(a,b,c,d);hb(a);return a}var kb={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function lb(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b}function ib(a,b){if(eb)return 0;if(-1===b.indexOf("r")||a.mode&292){if(-1!==b.indexOf("w")&&!(a.mode&146)||-1!==b.indexOf("x")&&!(a.mode&73))return 13}else return 13;return 0}function mb(a,b){try{return J(a,b),17}catch(c){}return ib(a,"wx")}
function nb(a){var b=4096;for(a=a||0;a<=b;a++)if(!L[a])return a;throw new H(24);}function ob(a,b){pb||(pb=function(){},pb.prototype={},Object.defineProperties(pb.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}}}));var c=new pb,d;for(d in a)c[d]=a[d];a=c;b=nb(b);a.fa=b;return L[b]=a}var Ya={open:function(a){a.X=cb[a.node.ua].X;a.X.open&&a.X.open(a)},ia:function(){throw new H(29);}};function Ta(a,b){cb[a]={X:b}}
function qb(a,b){var c="/"===b,d=!b;if(c&&bb)throw new H(16);if(!c&&!d){var f=O(b,{Oa:!1});b=f.path;f=f.node;if(f.oa)throw new H(16);if(16384!==(f.mode&61440))throw new H(20);}b={type:a,Cb:{},Ta:b,fb:[]};a=a.ga(b);a.ga=b;b.root=a;c?bb=a:f&&(f.oa=b,f.ga&&f.ga.fb.push(b))}function rb(a,b,c){var d=O(a,{parent:!0}).node;a=Oa(a);if(!a||"."===a||".."===a)throw new H(22);var f=mb(d,a);if(f)throw new H(f);if(!d.W.ra)throw new H(1);return d.W.ra(d,a,b,c)}
function R(a,b){return rb(a,(void 0!==b?b:511)&1023|16384,0)}function sb(a,b,c){"undefined"===typeof c&&(c=b,b=438);return rb(a,b|8192,c)}function tb(a,b){if(!Qa(a))throw new H(2);var c=O(b,{parent:!0}).node;if(!c)throw new H(2);b=Oa(b);var d=mb(c,b);if(d)throw new H(d);if(!c.W.wa)throw new H(1);return c.W.wa(c,b,a)}
function ub(a){var b=O(a,{parent:!0}).node,c=Oa(a),d=J(b,c);a:{try{var f=J(b,c)}catch(h){f=h.ea;break a}var g=ib(b,"wx");f=g?g:16384===(f.mode&61440)?21:0}if(f)throw new H(f);if(!b.W.Ba)throw new H(1);if(d.oa)throw new H(16);try{N.willDeletePath&&N.willDeletePath(a)}catch(h){console.log("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+h.message)}b.W.Ba(b,c);b=gb(d.parent.id,d.name);if(M[b]===d)M[b]=d.ka;else for(b=M[b];b;){if(b.ka===d){b.ka=d.ka;break}b=b.ka}try{if(N.onDeletePath)N.onDeletePath(a)}catch(h){console.log("FS.trackingDelegate['onDeletePath']('"+
a+"') threw an exception: "+h.message)}}function fb(a){a=O(a).node;if(!a)throw new H(2);if(!a.W.pa)throw new H(22);return Qa(Q(a.parent),a.W.pa(a))}function vb(a,b){var c;"string"===typeof a?c=O(a,{Ea:!0}).node:c=a;if(!c.W.ba)throw new H(1);c.W.ba(c,{mode:b&4095|c.mode&-4096,timestamp:Date.now()})}
function S(a,b,c,d){if(""===a)throw new H(2);if("string"===typeof b){var f=kb[b];if("undefined"===typeof f)throw Error("Unknown file open mode: "+b);b=f}c=b&64?("undefined"===typeof c?438:c)&4095|32768:0;if("object"===typeof a)var g=a;else{a=G(a);try{g=O(a,{Ea:!(b&131072)}).node}catch(l){}}f=!1;if(b&64)if(g){if(b&128)throw new H(17);}else g=rb(a,c,0),f=!0;if(!g)throw new H(2);8192===(g.mode&61440)&&(b&=-513);if(b&65536&&16384!==(g.mode&61440))throw new H(20);if(!f&&(c=g?40960===(g.mode&61440)?40:
16384===(g.mode&61440)&&("r"!==lb(b)||b&512)?21:ib(g,lb(b)):2))throw new H(c);if(b&512){c=g;var h;"string"===typeof c?h=O(c,{Ea:!0}).node:h=c;if(!h.W.ba)throw new H(1);if(16384===(h.mode&61440))throw new H(21);if(32768!==(h.mode&61440))throw new H(22);if(c=ib(h,"w"))throw new H(c);h.W.ba(h,{size:0,timestamp:Date.now()})}b&=-641;d=ob({node:g,path:Q(g),flags:b,seekable:!0,position:0,X:g.X,mb:[],error:!1},d);d.X.open&&d.X.open(d);!e.logReadFiles||b&1||(wb||(wb={}),a in wb||(wb[a]=1,console.log("FS.trackingDelegate error on read file: "+
a)));try{N.onOpenFile&&(g=0,1!==(b&2097155)&&(g|=1),0!==(b&2097155)&&(g|=2),N.onOpenFile(a,g))}catch(l){console.log("FS.trackingDelegate['onOpenFile']('"+a+"', flags) threw an exception: "+l.message)}return d}function xb(a){if(null===a.fa)throw new H(9);a.Fa&&(a.Fa=null);try{a.X.close&&a.X.close(a)}catch(b){throw b;}finally{L[a.fa]=null}a.fa=null}
function yb(a,b,c){if(null===a.fa)throw new H(9);if(!a.seekable||!a.X.ia)throw new H(29);if(0!=c&&1!=c&&2!=c)throw new H(22);a.position=a.X.ia(a,b,c);a.mb=[]}
function zb(a,b,c,d,f,g){if(0>d||0>f)throw new H(22);if(null===a.fa)throw new H(9);if(0===(a.flags&2097155))throw new H(9);if(16384===(a.node.mode&61440))throw new H(21);if(!a.X.write)throw new H(22);a.flags&1024&&yb(a,0,2);var h="undefined"!==typeof f;if(!h)f=a.position;else if(!a.seekable)throw new H(29);b=a.X.write(a,b,c,d,f,g);h||(a.position+=b);try{if(a.path&&N.onWriteToFile)N.onWriteToFile(a.path)}catch(l){console.log("FS.trackingDelegate['onWriteToFile']('"+a.path+"') threw an exception: "+
l.message)}return b}function Ab(){H||(H=function(a,b){this.node=b;this.hb=function(a){this.ea=a};this.hb(a);this.message="FS error"},H.prototype=Error(),H.prototype.constructor=H,[2].forEach(function(a){$a[a]=new H(a);$a[a].stack="<generic error, no stack>"}))}var Bb;function Cb(a,b){var c=0;a&&(c|=365);b&&(c|=146);return c}function Db(a,b,c,d){a=G(("string"===typeof a?a:Q(a))+"/"+b);return R(a,Cb(c,d))}
function Eb(a,b){a="string"===typeof a?a:Q(a);for(b=b.split("/").reverse();b.length;){var c=b.pop();if(c){var d=G(a+"/"+c);try{R(d)}catch(f){}a=d}}return d}function Fb(a,b,c,d){a=G(("string"===typeof a?a:Q(a))+"/"+b);c=Cb(c,d);return rb(a,(void 0!==c?c:438)&4095|32768,0)}
function Gb(a,b,c,d,f,g){a=b?G(("string"===typeof a?a:Q(a))+"/"+b):a;d=Cb(d,f);f=rb(a,(void 0!==d?d:438)&4095|32768,0);if(c){if("string"===typeof c){a=Array(c.length);b=0;for(var h=c.length;b<h;++b)a[b]=c.charCodeAt(b);c=a}vb(f,d|146);a=S(f,"w");zb(a,c,0,c.length,0,g);xb(a);vb(f,d)}return f}
function T(a,b,c,d){a=G(("string"===typeof a?a:Q(a))+"/"+b);b=Cb(!!c,!!d);T.Ra||(T.Ra=64);var f=T.Ra++<<8|0;Ta(f,{open:function(a){a.seekable=!1},close:function(){d&&d.buffer&&d.buffer.length&&d(10)},read:function(a,b,d,f){for(var g=0,h=0;h<f;h++){try{var l=c()}catch(w){throw new H(5);}if(void 0===l&&0===g)throw new H(11);if(null===l||void 0===l)break;g++;b[d+h]=l}g&&(a.node.timestamp=Date.now());return g},write:function(a,b,c,f){for(var g=0;g<f;g++)try{d(b[c+g])}catch(u){throw new H(5);}f&&(a.node.timestamp=
Date.now());return g}});return sb(a,b,f)}function Hb(a,b,c){a=G(("string"===typeof a?a:Q(a))+"/"+b);return tb(c,a)}
function Ib(a){if(a.Qa||a.eb||a.link||a.V)return!0;var b=!0;if("undefined"!==typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(aa)try{a.V=Va(aa(a.url),!0),a.Y=a.V.length}catch(c){b=!1}else throw Error("Cannot load without read() or XMLHttpRequest.");b||La(5);return b}
function Jb(a,b,c,d,f){if("undefined"!==typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";c={Qa:!1,url:c};var g=Fb(a,b,d,f);c.V?g.V=c.V:c.url&&(g.V=null,g.url=c.url);Object.defineProperties(g,{Y:{get:function(){return this.V.length}}});var h={};Object.keys(g.X).forEach(function(a){var b=g.X[a];h[a]=function(){if(!Ib(g))throw new H(5);return b.apply(null,arguments)}});h.read=function(a,b,c,d,f){if(!Ib(g))throw new H(5);
a=a.node.V;if(f>=a.length)return 0;d=Math.min(a.length-f,d);if(a.slice)for(var h=0;h<d;h++)b[c+h]=a[f+h];else for(h=0;h<d;h++)b[c+h]=a.get(f+h);return d};g.X=h;return g}
function Kb(a,b,c,d,f,g,h,l,q,n){function u(c){function P(c){n&&n();l||Gb(a,b,c,d,f,q);g&&g();Da(w)}var K=!1;e.preloadPlugins.forEach(function(a){!K&&a.canHandle(z)&&(a.handle(c,z,P,function(){h&&h();Da(w)}),K=!0)});K||P(c)}(void 0).wb();var z=b?Qa(G(a+"/"+b)):a,w="cp "+z;Ca(w);"string"==typeof c?(void 0).nb(c,function(a){u(a)},h):u(c)}var U={},jb,pb,wb,Lb={},V=0;function W(){V+=4;return B[V-4>>2]}function X(){var a=L[W()];if(!a)throw new H(9);return a}function Mb(){E()}
function Nb(){return A.length}var Ob={};function Pb(a){if(0===a)return 0;a=x(a);if(!Ob.hasOwnProperty(a))return 0;Pb.ca&&Qb(Pb.ca);a=Ob[a];var b=ja(a)+1,c=ab(b);c&&ia(a,A,c,b);Pb.ca=c;return Pb.ca}function Y(){Y.ca||(Y.ca=[]);Y.ca.push(Rb());return Y.ca.length-1}function Sb(a){return 0===a%4&&(0!==a%100||0===a%400)}function Tb(a,b){for(var c=0,d=0;d<=b;c+=a[d++]);return c}var Ub=[31,29,31,30,31,30,31,31,30,31,30,31],Vb=[31,28,31,30,31,30,31,31,30,31,30,31];
function Wb(a,b){for(a=new Date(a.getTime());0<b;){var c=a.getMonth(),d=(Sb(a.getFullYear())?Ub:Vb)[c];if(b>d-a.getDate())b-=d-a.getDate()+1,a.setDate(1),11>c?a.setMonth(c+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}
function Xb(a,b,c,d){function f(a,b,c){for(a="number"===typeof a?a.toString():a||"";a.length<b;)a=c[0]+a;return a}function g(a,b){return f(a,b,"0")}function h(a,b){function c(a){return 0>a?-1:0<a?1:0}var d;0===(d=c(a.getFullYear()-b.getFullYear()))&&0===(d=c(a.getMonth()-b.getMonth()))&&(d=c(a.getDate()-b.getDate()));return d}function l(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),
0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-1,11,30)}}function q(a){a=Wb(new Date(a.aa+1900,0,1),a.Aa);var b=l(new Date(a.getFullYear()+1,0,4));return 0>=h(l(new Date(a.getFullYear(),0,4)),a)?0>=h(b,a)?a.getFullYear()+1:a.getFullYear():a.getFullYear()-1}var n=B[d+40>>2];d={kb:B[d>>2],jb:B[d+4>>2],ya:B[d+8>>2],qa:B[d+12>>2],ma:B[d+16>>2],aa:B[d+20>>2],za:B[d+24>>2],Aa:B[d+28>>2],Fb:B[d+32>>2],ib:B[d+36>>2],
lb:n?x(n):""};c=x(c);n={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in n)c=c.replace(new RegExp(u,"g"),n[u]);var z="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
w="January February March April May June July August September October November December".split(" ");n={"%a":function(a){return z[a.za].substring(0,3)},"%A":function(a){return z[a.za]},"%b":function(a){return w[a.ma].substring(0,3)},"%B":function(a){return w[a.ma]},"%C":function(a){return g((a.aa+1900)/100|0,2)},"%d":function(a){return g(a.qa,2)},"%e":function(a){return f(a.qa,2," ")},"%g":function(a){return q(a).toString().substring(2)},"%G":function(a){return q(a)},"%H":function(a){return g(a.ya,
2)},"%I":function(a){a=a.ya;0==a?a=12:12<a&&(a-=12);return g(a,2)},"%j":function(a){return g(a.qa+Tb(Sb(a.aa+1900)?Ub:Vb,a.ma-1),3)},"%m":function(a){return g(a.ma+1,2)},"%M":function(a){return g(a.jb,2)},"%n":function(){return"\n"},"%p":function(a){return 0<=a.ya&&12>a.ya?"AM":"PM"},"%S":function(a){return g(a.kb,2)},"%t":function(){return"\t"},"%u":function(a){return a.za||7},"%U":function(a){var b=new Date(a.aa+1900,0,1),c=0===b.getDay()?b:Wb(b,7-b.getDay());a=new Date(a.aa+1900,a.ma,a.qa);return 0>
h(c,a)?g(Math.ceil((31-c.getDate()+(Tb(Sb(a.getFullYear())?Ub:Vb,a.getMonth()-1)-31)+a.getDate())/7),2):0===h(c,b)?"01":"00"},"%V":function(a){var b=l(new Date(a.aa+1900,0,4)),c=l(new Date(a.aa+1901,0,4)),d=Wb(new Date(a.aa+1900,0,1),a.Aa);return 0>h(d,b)?"53":0>=h(c,d)?"01":g(Math.ceil((b.getFullYear()<a.aa+1900?a.Aa+32-b.getDate():a.Aa+1-b.getDate())/7),2)},"%w":function(a){return a.za},"%W":function(a){var b=new Date(a.aa,0,1),c=1===b.getDay()?b:Wb(b,0===b.getDay()?1:7-b.getDay()+1);a=new Date(a.aa+
1900,a.ma,a.qa);return 0>h(c,a)?g(Math.ceil((31-c.getDate()+(Tb(Sb(a.getFullYear())?Ub:Vb,a.getMonth()-1)-31)+a.getDate())/7),2):0===h(c,b)?"01":"00"},"%y":function(a){return(a.aa+1900).toString().substring(2)},"%Y":function(a){return a.aa+1900},"%z":function(a){a=a.ib;var b=0<=a;a=Math.abs(a)/60;return(b?"+":"-")+String("0000"+(a/60*100+a%60)).slice(-4)},"%Z":function(a){return a.lb},"%%":function(){return"%"}};for(u in n)0<=c.indexOf(u)&&(c=c.replace(new RegExp(u,"g"),n[u](d)));u=Va(c,!1);if(u.length>
b)return 0;A.set(u,a);return u.length-1}Ab();M=Array(4096);qb(I,"/");R("/tmp");R("/home");R("/home/web_user");
(function(){R("/dev");Ta(259,{read:function(){return 0},write:function(a,b,f,g){return g}});sb("/dev/null",259);Sa(1280,Wa);Sa(1536,Xa);sb("/dev/tty",1280);sb("/dev/tty1",1536);if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var a=new Uint8Array(1);var b=function(){crypto.getRandomValues(a);return a[0]}}b||(b=function(){E("random_device")});T("/dev","random",b);T("/dev","urandom",b);R("/dev/shm");R("/dev/shm/tmp")})();R("/proc");R("/proc/self");R("/proc/self/fd");
qb({ga:function(){var a=Za("/proc/self","fd",16895,73);a.W={na:function(a,c){var b=L[+c];if(!b)throw new H(9);a={parent:null,ga:{Ta:"fake"},W:{pa:function(){return b.path}}};return a.parent=a}};return a}},"/proc/self/fd");e.FS_createFolder=Db;e.FS_createPath=Eb;e.FS_createDataFile=Gb;e.FS_createPreloadedFile=Kb;e.FS_createLazyFile=Jb;e.FS_createLink=Hb;e.FS_createDevice=T;e.FS_unlink=ub;
"undefined"!==typeof dateNow?Mb=dateNow:"object"===typeof performance&&performance&&"function"===typeof performance.now?Mb=function(){return performance.now()}:Mb=Date.now;function Va(a,b){var c=Array(ja(a)+1);a=ia(a,c,0,c.length);b&&(c.length=a);return c}
var $b=e.asm({},{e:E,r:function(a,b,c,d){E("Assertion failed: "+x(a)+", at: "+[b?x(b):"unknown filename",c,d?x(d):"unknown function"])},b:function(a){return ab(a)},x:function(){da=!0;throw"Pure virtual function called!";},c:function(a){"uncaught_exception"in Yb?Yb.Ka++:Yb.Ka=1;throw a;},u:function(){return Yb.Ka},j:function(){},t:function(){La(1);return-1},m:La,s:function(a,b){V=b;try{var c=X(),d=W(),f=W(),g=W(),h=W();a=4294967296*d+(f>>>0);if(-9007199254740992>=a||9007199254740992<=a)return-75;yb(c,
a,h);Ja=[c.position>>>0,(F=c.position,1<=+va(F)?0<F?(ya(+xa(F/4294967296),4294967295)|0)>>>0:~~+wa((F-+(~~F>>>0))/4294967296)>>>0:0)];B[g>>2]=Ja[0];B[g+4>>2]=Ja[1];c.Fa&&0===a&&0===h&&(c.Fa=null);return 0}catch(l){return"undefined"!==typeof U&&l instanceof H||E(l),-l.ea}},G:function(a,b){V=b;try{var c=X(),d=W();a:{var f=W();for(b=a=0;b<f;b++){var g=B[d+(8*b+4)>>2],h=c,l=B[d+8*b>>2],q=g,n=void 0,u=A;if(0>q||0>n)throw new H(22);if(null===h.fa)throw new H(9);if(1===(h.flags&2097155))throw new H(9);if(16384===
(h.node.mode&61440))throw new H(21);if(!h.X.read)throw new H(22);var z="undefined"!==typeof n;if(!z)n=h.position;else if(!h.seekable)throw new H(29);var w=h.X.read(h,u,l,q,n);z||(h.position+=w);var P=w;if(0>P){var Pa=-1;break a}a+=P;if(P<g)break}Pa=a}return Pa}catch(K){return"undefined"!==typeof U&&K instanceof H||E(K),-K.ea}},q:function(a,b){V=b;try{var c=X(),d=W();a:{var f=W();for(b=a=0;b<f;b++){var g=zb(c,A,B[d+8*b>>2],B[d+(8*b+4)>>2],void 0);if(0>g){var h=-1;break a}a+=g}h=a}return h}catch(l){return"undefined"!==
typeof U&&l instanceof H||E(l),-l.ea}},l:function(a,b){V=b;try{var c=X();switch(W()){case 0:var d=W();return 0>d?-22:S(c.path,c.flags,0,d).fa;case 1:case 2:return 0;case 3:return c.flags;case 4:return d=W(),c.flags|=d,0;case 12:return d=W(),la[d+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-22;case 9:return La(22),-1;default:return-22}}catch(f){return"undefined"!==typeof U&&f instanceof H||E(f),-f.ea}},F:function(a,b){V=b;try{var c=x(W()),d=W(),f=W();return S(c,d,f).fa}catch(g){return"undefined"!==
typeof U&&g instanceof H||E(g),-g.ea}},p:function(a,b){V=b;try{var c=X(),d=W();switch(d){case 21509:case 21505:return c.Z?0:-25;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return c.Z?0:-25;case 21519:if(!c.Z)return-25;var f=W();return B[f>>2]=0;case 21520:return c.Z?-22:-25;case 21531:a=f=W();if(!c.X.cb)throw new H(25);return c.X.cb(c,d,a);case 21523:return c.Z?0:-25;case 21524:return c.Z?0:-25;default:E("bad ioctl syscall "+d)}}catch(g){return"undefined"!==typeof U&&g instanceof
H||E(g),-g.ea}},o:function(a,b){V=b;try{var c=X();xb(c);return 0}catch(d){return"undefined"!==typeof U&&d instanceof H||E(d),-d.ea}},E:function(a,b){V=b;try{var c=W(),d=W();if(-1===c||0===d)var f=-22;else{var g=Lb[c];if(g&&d===g.yb){var h=L[g.fa],l=g.flags,q=new Uint8Array(ha.subarray(c,c+d));h&&h.X.sa&&h.X.sa(h,q,0,d,l);Lb[c]=null;g.Ya&&Qb(g.zb)}f=0}return f}catch(n){return"undefined"!==typeof U&&n instanceof H||E(n),-n.ea}},i:function(){},d:function(){e.abort()},n:function(a,b){if(0===a)a=Date.now();
else if(1===a&&"object"===typeof performance&&performance&&"function"===typeof performance.now)a=Mb();else return La(22),-1;B[b>>2]=a/1E3|0;B[b+4>>2]=a%1E3*1E6|0;return 0},D:Nb,C:function(a,b,c){ha.set(ha.subarray(b,b+c),a)},B:function(a){if(2147418112<a)return!1;for(var b=Math.max(Nb(),16777216);b<a;)536870912>=b?b=ka(2*b):b=Math.min(ka((3*b+2147483648)/4),2147418112);a:{try{v.grow(b-y.byteLength+65535>>16);ma(v.buffer);var c=1;break a}catch(d){}c=void 0}return c?!0:!1},k:Pb,A:function(a){return Math.pow(2,
a)},g:function(a){var b=Y.ca[a];Y.ca.splice(a,1);Zb(b)},f:Y,z:function(){E("trap!")},h:za,y:function(){return 0},w:function(a,b,c,d){return Xb(a,b,c,d)},v:function(){E("OOM")},a:38848},y);e.asm=$b;var Ka=e.__GLOBAL__sub_I_wasm_cpp=function(){return e.asm.H.apply(null,arguments)},Yb=e.__ZSt18uncaught_exceptionv=function(){return e.asm.I.apply(null,arguments)};e.___errno_location=function(){return e.asm.J.apply(null,arguments)};e._classify_passport=function(){return e.asm.K.apply(null,arguments)};
e._detect=function(){return e.asm.L.apply(null,arguments)};e._encode=function(){return e.asm.M.apply(null,arguments)};e._extract_features=function(){return e.asm.N.apply(null,arguments)};var Qb=e._free=function(){return e.asm.O.apply(null,arguments)},ab=e._malloc=function(){return e.asm.P.apply(null,arguments)};e.stackAlloc=function(){return e.asm.S.apply(null,arguments)};var Zb=e.stackRestore=function(){return e.asm.T.apply(null,arguments)},Rb=e.stackSave=function(){return e.asm.U.apply(null,arguments)};
e.dynCall_v=function(){return e.asm.Q.apply(null,arguments)};e.dynCall_vi=function(){return e.asm.R.apply(null,arguments)};e.asm=$b;e.getMemory=function(a){if(ta)var b=ab(a);else b=B[9712],a=b+a+15&-16,a>Nb()&&E(),B[9712]=a;return b};e.addRunDependency=Ca;e.removeRunDependency=Da;e.FS_createFolder=Db;e.FS_createPath=Eb;e.FS_createDataFile=Gb;e.FS_createPreloadedFile=Kb;e.FS_createLazyFile=Jb;e.FS_createLink=Hb;e.FS_createDevice=T;e.FS_unlink=ub;e.calledRun=Z;var Z;
e.then=function(a){if(Z)a(e);else{var b=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){b&&b();a(e)}}return e};Ba=function ac(){Z||bc();Z||(Ba=ac)};
function bc(){function a(){if(!Z&&(Z=!0,e.calledRun=!0,!da)){ta=!0;e.noFSInit||Bb||(Bb=!0,Ab(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?T("/dev","stdin",e.stdin):tb("/dev/tty","/dev/stdin"),e.stdout?T("/dev","stdout",null,e.stdout):tb("/dev/tty","/dev/stdout"),e.stderr?T("/dev","stderr",null,e.stderr):tb("/dev/tty1","/dev/stderr"),S("/dev/stdin","r"),S("/dev/stdout","w"),S("/dev/stderr","w"));oa(qa);eb=!1;oa(ra);if(e.onRuntimeInitialized)e.onRuntimeInitialized();if(e.postRun)for("function"==
typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var a=e.postRun.shift();sa.unshift(a)}oa(sa)}}if(!(0<C)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)ua();oa(pa);0<C||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1);a()},1)):a())}}e.run=bc;function E(a){if(e.onAbort)e.onAbort(a);ba(a);k(a);da=!0;throw"abort("+a+"). Build with -s ASSERTIONS=1 for more info.";}e.abort=E;
if(e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();bc();
(function(){function a(a){var b=a.ta;a=a.va;if(-1===a)throw new c(1,"Output buffer too small");b=new Uint8Array(e.HEAPU8.buffer,b,a);for(var d="",h=0;h<a;++h)d+=String.fromCharCode(b[h]);return d}function b(a){var b=a.width,c=a.height;a=a.Ja;var d=e._malloc(b*c*3);for(var l=new Uint8Array(e.HEAPU8.buffer,d,b*c*3),q=0;q<c;++q)for(var n=0;n<b;++n)l[3*(q*b+n)]=a[4*(q*b+n)],l[3*(q*b+n)+1]=a[4*(q*b+n)+1],l[3*(q*b+n)+2]=a[4*(q*b+n)+2];return d}var c=e.TevianFaceWasmError=function(a,b){this.name="TevianFaceWasmError";
this.code=a;this.message=b;Error.captureStackTrace?Error.captureStackTrace(this,c):this.stack=Error().stack};c.prototype=Object.create(Error.prototype);e.detect=function(d){if(null==d)throw new c("WRONG_PARAMETERS","expected an object with shape { width: Number, height: Number, rgbaImage: TypedArray, roi?: { x: Number, y: Number, w: Number, h: Number }, minSize?: Number }");if(!Number.isInteger(d.width)||!Number.isInteger(d.height))throw new c("WRONG_PARAMETERS","width and height must be integers");
if(null==d.rgbaImage)throw new c("WRONG_PARAMETERS","rgbaImage must be iterable");if(d.rgbaImage.length!==d.width*d.height*4)throw new c("WRONG_PARAMETERS","rgbaImage length must be width * height * 4");var f=Math.floor(.2*Math.min(d.width,d.height));if(null!=d.minSize){if(!Number.isInteger(d.minSize))throw new c("WRONG_PARAMETERS","minSize must be integer");f=d.minSize}if(null==d.roi)var g={x:0,y:0,w:d.width,h:d.height};else{if(!(Number.isInteger(d.roi.x)&&Number.isInteger(d.roi.y)&&Number.isInteger(d.roi.w)&&
Number.isInteger(d.roi.h)))throw new c("WRONG_PARAMETERS","roi must be an object with shape { x: Number, y: Number, w: Number, h: Number }");g=d.roi}var h=d.width,l=d.height;d=b({width:h,height:l,Ja:d.rgbaImage});var q=e._malloc(4096);f=e._detect(d,h,l,g.x,g.y,g.w,g.h,f,q,4096);f=JSON.parse(a({ta:q,va:f}));e._free(q);e._free(d);return f};e.classifyPassport=function(d){if(null==d)throw new c("WRONG_PARAMETERS","expected an object with shape { width: Number, height: Number, rgbaImage: TypedArray }");
if(!Number.isInteger(d.width)||!Number.isInteger(d.height))throw new c("WRONG_PARAMETERS","width and height must be integers");if(null==d.rgbaImage)throw new c("WRONG_PARAMETERS","rgbaImage must be iterable");if(d.rgbaImage.length!==d.width*d.height*4)throw new c("WRONG_PARAMETERS","rgbaImage length must be width * height * 4");var f=d.width,g=d.height;d=b({width:f,height:g,Ja:d.rgbaImage});var h=e._malloc(4096);f=e._classify_passport(d,f,g,h,4096);f=JSON.parse(a({ta:h,va:f}));e._free(h);e._free(d);
return f};e.extractFeatures=function(d){if(null==d)throw new c("WRONG_PARAMETERS","detect expects an object with shape { width: Number, height: Number, rgbaImage: TypedArray, bbox: { x: Number, y: Number, w: Number, h: Number } }");if(!(null!=d.bbox&&Number.isInteger(d.bbox.x)&&Number.isInteger(d.bbox.y)&&Number.isInteger(d.bbox.w)&&Number.isInteger(d.bbox.h)))throw new c("WRONG_PARAMETERS","bbox must be an object with shape { x: Number, y: Number, w: Number, h: Number }");if(!Number.isInteger(d.width)||
!Number.isInteger(d.height))throw new c("WRONG_PARAMETERS","width and height must be integers");if(null==d.rgbaImage)throw new c("WRONG_PARAMETERS","rgbaImage must be iterable");if(d.rgbaImage.length!==d.width*d.height*4)throw new c("WRONG_PARAMETERS","rgbaImage length must be width * height * 4");var f=d.bbox,g=d.width,h=d.height;d=b({width:g,height:h,Ja:d.rgbaImage});var l=e._malloc(4096);f=e._extract_features(d,g,h,f.x,f.y,f.w,f.h,l,4096);f=JSON.parse(a({ta:l,va:f}));e._free(l);e._free(d);return f};
e.encode=function(b){if("string"!==typeof b)throw new c("WRONG_PARAMETERS","encode argument (input) must be a string");var d=16*Math.ceil(b.length/16),g=4*Math.ceil((d+256)/3)+1,h=e._malloc(g);var l=e._malloc(d);for(var q=new Uint8Array(e.HEAPU8.buffer,l,d),n=0;n<d;++n)q[n]=n<b.length?b.charCodeAt(n):0;b=e._encode(l,d,h,g);b=a({ta:h,va:b});e._free(l);e._free(h);return b};e.VERSION="v0.5.1"})();


  return TevianFaceWasm
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
      module.exports = TevianFaceWasm;
    else if (typeof define === 'function' && define['amd'])
      define([], function() { return TevianFaceWasm; });
    else if (typeof exports === 'object')
      exports["TevianFaceWasm"] = TevianFaceWasm;
    